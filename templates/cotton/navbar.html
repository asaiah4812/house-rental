{% load static %}

<nav
    x-data="{showSide: false}"
      class="flex items-center x-20 justify-between w-[90%] py-4 lg:w-[80%] mx-auto"
    >
      <a href="{% url 'core:home' %}" class="w-[80px] md:w-[150px]">
        <img src="{% static '/images/logo.svg' %}" class="w-full" alt="image" />
      </a>
      <div class="space-x-4 hover:[&>a]:text-green-600 hidden lg:block">
        <a href="{% url 'core:properties' %}">Properties</a>
        <a href="#">About Us</a>
        <a href="#">Activity</a>
        <a href="#">Coupons and Promos</a>
      </div>
      <div x-show="showSide"
       x-transition:enter="transition origin-top ease-out duration-300"
        x-transition:enter-start="transform translate-x-full opacity-0"
        x-transition:enter-end="transform translate-x-0 opacity-100"
        x-transition:leave="transition origin-top ease-out duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
      x-cloak @click.away="showSide=false" class="fixed z-40 top-0 right-0 bg-white shadow-md h-screen space-y-6 w-[250px] flex items-start px-4 pt-24 flex-col">
        <button @click="showSide=false" class="bg-slate-100 hover:bg-slate-200 w-10 h-10 rounded-full "><i class="fa fa-close"></i></button>
        <a href="#" class="hover:text-green-600">Make Reservations</a>
        <a href="{% url 'core:properties' %}" class="hover:text-green-600">Properties</a>
        <a href="#" class="hover:text-green-600">Activity</a>
        <a href="#" class="hover:text-green-600">Coupons and Promos</a>
          {% if not user.is_authenticated %}
        <a
          href="{% url 'accounts:signup' %}"
          class="py-3 px-6 text-white bg-green-800 hover:bg-green-700 rounded-full"
          >Get started</a
        >
        <a
          href="{% url 'accounts:login' %}"
          class="py-3 px-6 border border-gray-200 hover:bg-gray-200 text-black bg-transparent rounded-full"
          >Sign in</a
        >
        {% else %}
        <a
          href="{% url 'accounts:logout' %}"
          class="py-3 px-6 text-white bg-green-800 hover:bg-green-700 rounded-full"
          >Logout</a
        >
        <div class="relative" x-data="{profile:false}">
            <button
           @click="profile = !profile"
            title="Profile"
              href="{% url 'accounts:profile' %}"
              class="w-12 flex items-center justify-center relative h-12 border border-gray-200 hover:bg-gray-200 text-black bg-transparent rounded-full"
              >
              <i class="fa fa-user text-2xl"></i>
            </button>
            <div x-show="profile" 
            x-transition:enter="transition origin-top ease-out duration-300" 
            x-transition:enter-start="transform translate-y- opacity-0"
            x-transition:enter-end="transform translate-y-md opacity-100"
            x-transition:leave="transition origin-top ease-out duration-300" 
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            x-cloak @click.away="profile = false" class="p-5 absolute right-0 top-14 bg-white text-left flex flex-col gap-4 w-[200px] rounded-md border shadow-md">
                <a href="{% url 'accounts:profile' %}" class="py-3 text-xl border-b hover:bg-slate-200 pl-2 rounded-xl">Profile</a>
                <a href="{% url 'accounts:edit_profile' %}" class="py-3 text-xl border-b hover:bg-slate-200 pl-2 rounded-xl">Edit Profile</a>
                <a href="{% url 'core:create_property' %}" class="py-3 text-xl border-b hover:bg-slate-200 pl-2 rounded-xl">Sale Property</a>
              </div>

        </div>
        {% endif %}
      </div>
      <div class="lg:flex items-center gap-3 hidden">
        {% if not user.is_authenticated %}
        <a
          href="{% url 'accounts:signup' %}"
          class="py-3 px-6 text-white bg-green-800 hover:bg-green-700 rounded-full"
          >Get started</a
        >
        <a
          href="{% url 'accounts:login' %}"
          class="py-3 px-6 border border-gray-200 hover:bg-gray-200 text-black bg-transparent rounded-full"
          >Sign in</a
        >
        {% else %}
        <a
          href="{% url 'accounts:logout' %}"
          class="py-3 px-6 text-white bg-green-800 hover:bg-green-700 rounded-full"
          >Logout</a
        >
        <div class="relative" x-data="{profile:false}">
            <button
           @click="profile = !profile"
            title="Profile"
              href="{% url 'accounts:profile' %}"
              class="w-12 flex items-center justify-center relative h-12 border border-gray-200 hover:bg-gray-200 text-black bg-transparent rounded-full"
              >
              <i class="fa fa-user text-2xl"></i>
            </button>
            <div x-show="profile" 
            x-transition:enter="transition origin-top ease-out duration-300" 
            x-transition:enter-start="transform translate-y- opacity-0"
            x-transition:enter-end="transform translate-y-md opacity-100"
            x-transition:leave="transition origin-top ease-out duration-300" 
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            x-cloak @click.away="profile = false" class="p-5 absolute right-0 top-14 bg-white text-left flex flex-col gap-4 w-[200px] rounded-md border shadow-md">
                <a href="{% url 'accounts:profile' %}" class="py-3 text-xl border-b hover:bg-slate-200 pl-2 rounded-xl">Profile</a>
                <a href="{% url 'accounts:edit_profile' %}" class="py-3 text-xl border-b hover:bg-slate-200 pl-2 rounded-xl">Edit Profile</a>
                <a href="{% url 'core:create_property' %}" class="py-3 text-xl border-b hover:bg-slate-200 pl-2 rounded-xl">Sale Property</a>
              </div>

        </div>
        {% endif %}
      </div>
      <button @click="showSide = !showSide" class="block lg:hidden"><i class="fa-solid fa-bars text-2xl"></i></button>
    </nav>